<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

	<parameters>
		<parameter key="rock.page_flow.template_factory.class">Rock\OnSymfony\FlowBundle\Flow\Factory\TemplateFactory</parameter>
		<parameter key="rock.page_flow.builder.class">Rock\OnSymfony\FlowBundle\Flow\Builder\Builder</parameter>
		<parameter key="rock.page_flow.manager.class">Rock\OnSymfony\FlowBundle\Flow\Manager\FlowManager</parameter>
	</parameters>

    <services>
        <!-- Flow Manager -->
        <service id="rock.page_flow.manager" class="%rock.flow.manager.class%">
		    <tag name="rock.page_flow.manager" />
		</service>
        <!-- Flow Template Factory -->
        <service id="rock.flow.template_factory" class="%rock.flow.template_factory.class%">
		    <tag name="rock.flow.template_factory" />
		</service>
        <!-- Flow Builder -->
        <service id="rock.flow.builder" class="%rock.flow.builder.class%">
			<argument type="service" id="rock.flow.template_factory"/>
		    <tag name="rock.flow.builder" />
		</service>

	</services>
</container>
